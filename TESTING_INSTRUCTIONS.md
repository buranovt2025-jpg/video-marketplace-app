# Инструкции по тестированию APK

## Подготовка к тестированию

### 1. Установка APK на устройство

**Расположение APK:** `/home/ubuntu/video-marketplace-app.apk` (23 MB)

#### Метод 1: Через ADB (Android Debug Bridge)
```bash
# Убедитесь, что ADB установлен и устройство подключено
adb devices

# Установите APK
adb install /home/ubuntu/video-marketplace-app.apk

# Или для переустановки
adb install -r /home/ubuntu/video-marketplace-app.apk
```

#### Метод 2: Через облачное хранилище
1. Загрузите APK в Google Drive / Dropbox / Telegram
2. Скачайте на Android устройство
3. Разрешите установку из неизвестных источников
4. Откройте APK файл для установки

#### Метод 3: Через USB
1. Подключите Android устройство к компьютеру
2. Скопируйте APK в папку Downloads на устройстве
3. На устройстве откройте файловый менеджер
4. Найдите и установите APK

### 2. Разрешения на установку

При установке APK вне Play Store потребуется:
- Включить "Установка из неизвестных источников" в настройках Android
- Разрешить установку для конкретного приложения (Chrome, Files, etc.)

## План тестирования

### Этап 1: Первый запуск и регистрация

**Тест 1.1: Запуск приложения**
- [ ] Приложение успешно запускается
- [ ] Отображается экран приветствия/авторизации
- [ ] Нет критических ошибок при запуске

**Тест 1.2: Регистрация через Email**
- [ ] Открывается форма регистрации
- [ ] Можно ввести email и пароль
- [ ] Валидация email работает корректно
- [ ] Валидация пароля (минимум 6 символов)
- [ ] Успешная регистрация создает аккаунт
- [ ] После регистрации происходит автоматический вход

**Тест 1.3: Регистрация через Google**
- [ ] Кнопка "Sign in with Google" отображается
- [ ] Открывается диалог выбора Google аккаунта
- [ ] Успешная авторизация через Google
- [ ] Данные пользователя сохраняются в Firestore

### Этап 2: Авторизация

**Тест 2.1: Вход с существующим аккаунтом**
- [ ] Форма входа отображается корректно
- [ ] Можно войти с зарегистрированным email/паролем
- [ ] Неправильные credentials показывают ошибку
- [ ] "Forgot password" функция работает

**Тест 2.2: Персистентность сессии**
- [ ] После входа сессия сохраняется
- [ ] При закрытии и повторном открытии пользователь остается в системе
- [ ] Кнопка "Logout" корректно завершает сессию

### Этап 3: Интерфейс и навигация

**Тест 3.1: Главный экран**
- [ ] Отображается список видео (если есть в базе)
- [ ] Навигация между экранами работает
- [ ] Bottom navigation bar функционирует
- [ ] Поиск видео работает (если реализован)

**Тест 3.2: Профиль пользователя**
- [ ] Отображается информация профиля
- [ ] Можно редактировать данные профиля
- [ ] Изменения сохраняются в Firestore

### Этап 4: Функции видео

**Тест 4.1: Просмотр превью**
- [ ] Превью видео отображаются корректно
- [ ] Информация о видео (название, описание, цена) видна

**Тест 4.2: Воспроизведение видео**
⚠️ **Примечание:** Функциональность может быть ограничена из-за Firebase Storage
- [ ] Бесплатные видео можно просматривать
- [ ] Проигрыватель (Chewie) работает корректно
- [ ] Управление воспроизведением (play/pause, seek, volume)

**Тест 4.3: Загрузка видео**
⚠️ **Требует Firebase Storage с активированным биллингом**
- [ ] Форма загрузки видео доступна
- [ ] Можно выбрать видео файл
- [ ] Прогресс загрузки отображается
- [ ] Видео успешно загружается в Storage
- [ ] Метаданные сохраняются в Firestore

### Этап 5: Покупки и транзакции

**Тест 5.1: Просмотр платных видео**
- [ ] Платные видео помечены соответствующим образом
- [ ] При попытке просмотра показывается экран покупки
- [ ] Отображается корректная цена

**Тест 5.2: Процесс покупки**
⚠️ **Интеграция платежей запланирована для Phase 1**
- [ ] Экран оплаты отображается
- [ ] (В будущем) Интеграция с Stripe/Click работает

### Этап 6: Тестирование производительности

**Тест 6.1: Стабильность**
- [ ] Приложение не крашится при обычном использовании
- [ ] Корректная обработка ошибок сети
- [ ] Graceful handling отсутствующих данных

**Тест 6.2: Производительность**
- [ ] Быстрая загрузка экранов
- [ ] Плавная прокрутка списков
- [ ] Отзывчивый UI без лагов

**Тест 6.3: Потребление ресурсов**
- [ ] Разумное использование памяти
- [ ] Аккумулятор не разряжается слишком быстро
- [ ] Корректная работа на различных версиях Android

### Этап 7: Edge cases и обработка ошибок

**Тест 7.1: Сетевые условия**
- [ ] Поведение при потере интернета
- [ ] Корректное переподключение
- [ ] Информативные сообщения об ошибках

**Тест 7.2: Некорректный ввод**
- [ ] Валидация форм работает
- [ ] Специальные символы обрабатываются корректно
- [ ] Пустые поля блокируют отправку

**Тест 7.3: Permissions**
- [ ] Запрос разрешений на камеру (если нужно)
- [ ] Запрос разрешений на хранилище
- [ ] Graceful handling отказа в разрешениях

## Известные ограничения текущей версии

### Критические ограничения:
1. **Firebase Storage:** Загрузка видео не будет работать без активации биллинга
2. **Платежи:** Интеграция платежной системы еще не реализована
3. **Debug signing:** APK подписан debug-ключом

### Планируемые функции (не в текущей версии):
- Рейтинговая система
- Push-уведомления
- Чат между пользователями
- Аналитика
- Рекомендательная система

## Отчет о багах

При обнаружении проблем, пожалуйста, предоставьте:
1. **Описание:** Что пошло не так?
2. **Шаги воспроизведения:** Как повторить баг?
3. **Ожидаемое поведение:** Что должно было произойти?
4. **Фактическое поведение:** Что произошло?
5. **Устройство:** Модель и версия Android
6. **Скриншоты/видео:** Если возможно
7. **Логи:** Логи из logcat (для разработчиков)

## Команды для получения логов (для разработчиков)

```bash
# Просмотр логов в реальном времени
adb logcat -s flutter

# Сохранение логов в файл
adb logcat > app_logs.txt

# Фильтр по ошибкам
adb logcat *:E
```

## Контрольный чеклист перед релизом

Перед публикацией в Google Play Store:
- [ ] Настроить Firebase Storage (активировать биллинг)
- [ ] Создать release keystore
- [ ] Собрать release APK с правильной подписью
- [ ] Интегрировать платежную систему
- [ ] Пройти все тесты успешно
- [ ] Подготовить store listing (иконка, скриншоты, описание)
- [ ] Настроить privacy policy
- [ ] Настроить terms of service

## Полезные ссылки

- Firebase Console: https://console.firebase.google.com/
- Flutter Documentation: https://docs.flutter.dev/
- Android Debug Bridge (ADB): https://developer.android.com/tools/adb

---

**Версия документа:** 1.0  
**Дата:** 23 декабря 2025  
**Flutter Version:** 3.16.9
